<template>
  <div
    v-if="isLoading"
    class="h__dim"
  >
    <div class="h__dim--loading"></div>
  </div>
  <!-- <div
    v-if="isError"
    class="h__dim"
  ></div> -->
  <div class="h__home">
    <div class="h__home__header">
      <h1 class="h__home__header--title">
        <figure class="h__home__header--logo">
          <img
            src="@/assets/images/logo.png"
            alt="ë¡œê³ "
          />
        </figure>
        {{ (part as string).toUpperCase() }} Schedule
      </h1>

      <div class="h__home__header--week">
        <div class="h__home__header--week--date">
          {{ `${startDate.slice(2, 11)} (ì›”) - ${endDate.slice(2, 11)} (ê¸ˆ)` }}
        </div>
        <div class="btns">
          <button
            class="h__home__header--week--button"
            type="button"
            @click="handleWeek('pre')"
          >
            <span>ì§€ë‚œì£¼</span>
          </button>
          <button
            class="h__home__header--week--button"
            type="button"
            @click="handleWeek('cur')"
          >
            <span>í˜„ì¬</span>
          </button>
          <button
            class="h__home__header--week--button"
            type="button"
            @click="handleWeek('nex')"
          >
            <span>ë‹¤ìŒì£¼</span>
          </button>
        </div>
      </div>

      <div class="h__home__header--content">
        <dl class="h__home__header--status">
          <span>ğŸŒ ë¡œë”©ìƒíƒœ</span>
          <div class="wrap">
            <div>{{ checkStatus(fetches.getWeekSchedule) }}</div>
          </div>
        </dl>
        <dl class="h__home__header--notice">
          <dt>âš ï¸ ì£¼ì˜ì‚¬í•­</dt>
          <dd>íœ´ê°€(ì—°ì°¨/ë°˜ì°¨/ì‹œì°¨)ë„ ì¼ì •ì— ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.</dd>
          <dd>ì¼ 8ì‹œê°„, ì£¼ 40ì‹œê°„ ì¼ì •ì„ ëª¨ë‘ ì‘ì„±í•´ì•¼ ê³„ì‚°ì´ ì •í™•í•©ë‹ˆë‹¤.</dd>
          <dd>ìœ„ ì‚¬í•­ì€ ê³µíœ´ì¼ì€ ì œì™¸ë©ë‹ˆë‹¤.</dd>
        </dl>
        <dl class="h__home__header--notice">
          <dt>ğŸ“Œ ì „ë‹¬ì‚¬í•­</dt>
          <dd>ê³„ì‚°ì´ ì¼ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš° ë§ì”€í•´ì£¼ì„¸ìš”.</dd>
          <dd>ë²„ê·¸ ë° í”¼ë“œë°±ì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤.</dd>
        </dl>
      </div>
    </div>

    <div class="h__home__content">
      <h-table :schedules="scheduleList"></h-table>
      <div class="h__home__content--footer">2023. JunTae Hahm.</div>
    </div>
  </div>
</template>

<script setup lang="ts">
  import HTable from '@/components/elements/h-table.vue';
  import homeComposable, { homeProps } from '@/composables/views/home';

  const props = defineProps(homeProps);

  const {
    startDate,
    endDate,

    fetches,
    isLoading,
    checkStatus,

    scheduleList,
    handleWeek,
  } = homeComposable(props);
</script>

<style scoped lang="scss">
  @import '@/styles/views/home/index.scss';
</style>
